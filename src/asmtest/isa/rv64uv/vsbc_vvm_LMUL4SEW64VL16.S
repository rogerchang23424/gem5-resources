
# See LICENSE for license details.

# This file is automatically generated. Do not edit.

#*****************************************************************************
# isa/rv64uv/vsbc_vvm_LMUL4SEW64VL16.S
#-----------------------------------------------------------------------------
#
# Test vsbc.vvm instructions.
# With LMUL=4, SEW=64, VL=16
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV64UV

RVTEST_CODE_BEGIN

  la a1, tdat
  la a3, sres
  la a2, tdat+8
  ld a4, 0(a1)
  ld a5, 0(a2)
  sub a5, a4, a5
  addi a5, a5, -1
  sd a5, 0(a3)
  ld a4, 8(a1)
  ld a5, 8(a2)
  sub a5, a4, a5
  sd a5, 8(a3)
  ld a4, 16(a1)
  ld a5, 16(a2)
  sub a5, a4, a5
  addi a5, a5, -1
  sd a5, 16(a3)
  ld a4, 24(a1)
  ld a5, 24(a2)
  sub a5, a4, a5
  sd a5, 24(a3)
  ld a4, 32(a1)
  ld a5, 32(a2)
  sub a5, a4, a5
  addi a5, a5, -1
  sd a5, 32(a3)
  ld a4, 40(a1)
  ld a5, 40(a2)
  sub a5, a4, a5
  sd a5, 40(a3)
  ld a4, 48(a1)
  ld a5, 48(a2)
  sub a5, a4, a5
  addi a5, a5, -1
  sd a5, 48(a3)
  ld a4, 56(a1)
  ld a5, 56(a2)
  sub a5, a4, a5
  sd a5, 56(a3)
  ld a4, 64(a1)
  ld a5, 64(a2)
  sub a5, a4, a5
  addi a5, a5, -1
  sd a5, 64(a3)
  ld a4, 72(a1)
  ld a5, 72(a2)
  sub a5, a4, a5
  sd a5, 72(a3)
  ld a4, 80(a1)
  ld a5, 80(a2)
  sub a5, a4, a5
  addi a5, a5, -1
  sd a5, 80(a3)
  ld a4, 88(a1)
  ld a5, 88(a2)
  sub a5, a4, a5
  sd a5, 88(a3)
  ld a4, 96(a1)
  ld a5, 96(a2)
  sub a5, a4, a5
  addi a5, a5, -1
  sd a5, 96(a3)
  ld a4, 104(a1)
  ld a5, 104(a2)
  sub a5, a4, a5
  sd a5, 104(a3)
  ld a4, 112(a1)
  ld a5, 112(a2)
  sub a5, a4, a5
  addi a5, a5, -1
  sd a5, 112(a3)
  ld a4, 120(a1)
  ld a5, 120(a2)
  sub a5, a4, a5
  sd a5, 120(a3)


  li t0, -1
  vsetvli t1, t0, e64,m4,ta,ma
  la a2, tdat
  vle64.v v8, (a2)
  vle64.v v4, (a2)
  la a2, tdat+8
  vle64.v v12, (a2)

  
  li t0, -1
  vsetvli t1, t0, e8,m1,ta,ma
  la a3, mask
  vle8.v v0, (a3)

  li t0, 16
  vsetvli t1, t0, e64,m4,ta,ma
  vsbc.vvm v4, v8, v12, v0

  li t0, -1
  vsetvli t1, t0, e64,m4,ta,ma
  la a1, res
  vse64.v v4, (a1)
  la a2, sres

  TEST_CASE_REG(3, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(4, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(5, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(6, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(7, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(8, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(9, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(10, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(11, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(12, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(13, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(14, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(15, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(16, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(17, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(18, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)



  li t0, -1
  vsetvli t1, t0, e64,m4,ta,ma
  la a2, tdat
  vle64.v v8, (a2)
  vle64.v v4, (a2)
  la a2, tdat+8
  vle64.v v12, (a2)

  
  li t0, -1
  vsetvli t1, t0, e8,m1,ta,ma
  la a3, mask
  vle8.v v0, (a3)

  li t0, 16
  vsetvli t1, t0, e64,m4,tu,ma
  vsbc.vvm v4, v8, v12, v0

  li t0, -1
  vsetvli t1, t0, e64,m4,ta,ma
  la a1, res
  vse64.v v4, (a1)
  la a2, sres

  TEST_CASE_REG(19, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(20, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(21, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(22, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(23, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(24, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(25, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(26, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(27, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(28, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(29, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(30, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(31, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(32, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(33, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)
  TEST_CASE_REG(34, t0, t1, ld t0, 0(a1); ld t1, 0(a2); addi a1, a1, 8; addi a2, a2, 8)



  TEST_PASSFAIL

RVTEST_CODE_END

  .data
RVTEST_DATA_BEGIN

res:
  .zero 136

sres:
  .zero 136

tdat:
  .quad 0x0
  .quad 0x0
  .quad 0x1
  .quad 0x1
  .quad 0x3
  .quad 0x7
  .quad 0xfffffffffffffff8
  .quad 0x0
  .quad 0xffffffffffffffff
  .quad 0x1
  .quad 0xefffffffffffffff
  .quad 0x0
  .quad 0xefffffffffffffff
  .quad 0x1
  .quad 0xffffffffffffffff
  .quad 0x0
  .quad 0x0

mask:
  .quad 0x5555555555555555
  .quad 0x5555555555555555
  .quad 0x5555555555555555
  .quad 0x5555555555555555

RVTEST_DATA_END
